/*! tw-super-secret-scripts 0.0.3, Author: Deprivant 2021/12/20  https://deprivant.github.io/tw-super-secret-scripts/ */

var TWSEB={SCRIPT_NAME:"TW Super Energy Bar",languagePrefix:"cs_CZ"===Game.locale?"cs":"en",language:{cs:{onePointTimeLeft:"Další bod",perHourLabel:"Za hod.",fullEnergyLabel:"100 %",fullEnergyInfo:"---"},en:{onePointTimeLeft:"Next",perHourLabel:"Per Hr.",fullEnergyLabel:"100 %",fullEnergyInfo:"---"}},renderBar:function(){var e=$('<div class="TWSEB-seb" />'),t=$('<div class="TWSEB-seb-info-wrapper" />'),a=$('<div class="TWSEB-seb-tlc" />'),n=$('<div class="TWSEB-seb-ephc" />'),i=$('<div class="TWSEB-seb-oplc" />'),r=$("<div class='TWSEB-seb-labels'><span>"+TWSEB.language[TWSEB.languagePrefix].onePointTimeLeft+"</span><span>"+TWSEB.language[TWSEB.languagePrefix].perHourLabel+" </span><span>"+TWSEB.language[TWSEB.languagePrefix].fullEnergyLabel+"</span></div>");$(t).append(a).append(n).append(i),$(e).append(r),$(e).append(t),$("#ui_character_container").append(e),TWSEB.updateBar()},renderExpInfo:function(){var e=$('<span id="restExpInfo">(-'+(Character.getMaxExperience4Level()-Character.getExperience4Level())+")</span>");$("#ui_experience_bar .fill_wrap").after(e)},startTimer:function(){TWSEB.timer=setTimeout(function(){TWSEB.updateBar(),TWSEB.updateExpInfo(),TWSEB.startTimer()},1e3)},stopTimer:function(){clearTimeout(TWSEB.timer)},updateBar:function(){var e=Character.maxEnergy===Character.energy,t=3600/(Character.maxEnergy*Character.energyRegen),a=t-Game.getServerTime()+Character.energyDate,t=a+(Character.maxEnergy-Character.energy-1)*t;$(".TWSEB-seb-tlc").text(e?TWSEB.language[TWSEB.languagePrefix].fullEnergyInfo:a.formatDuration()),$(".TWSEB-seb-ephc").text((Character.maxEnergy*Character.energyRegen).toFixed(2)),$(".TWSEB-seb-oplc").text(e?TWSEB.language[TWSEB.languagePrefix].fullEnergyInfo:t.formatDuration())},updateExpInfo:function(){$("#restExpInfo").text("(-"+(Character.getMaxExperience4Level()-Character.getExperience4Level())+")")},run:function(){TWSEB.renderBar(),TWSEB.renderExpInfo(),TWSEB.startTimer()},stop:function(){$(".TWSEB-seb").remove(),$("#restExpInfo").remove(),TWSEB.stopTimer()}},TWSV={SCRIPT_NAME:"TW Skip the Video",run:function(){CinemaWindow.controller=TWSV.controller},stop:function(){CinemaWindow.controller=TWSV.controller_backup},init:function(){TWSV.controller_backup=CinemaWindow.controller,TWSV.controller=function(e){switch($("#cinema-canvas > *",CinemaWindow.DOM).css("display","none"),CinemaWindow.window.removeClass("nocloseall"),CinemaWindow.window.removeClass("nominimize"),CinemaWindow.window.removeClass("noreload"),CinemaWindow.window.dontCloseAll=!1,e){case"start":return TWSV.controller_backup("start");case"video":case"rewards":return TWSV.controller_backup("rewards");case"noVideo":return TWSV.controller_backup("noVideo");default:return TWSV.controller_backup()}}}},TWMarketScanner={SCRIPT_NAME:"TW Market Scanner",VERSION:"1.2.3",TIMER:6e5,MAX_OFFERS:10,NO_LIMIT:9999999,SETTING_PREFIX:"twms_settings_"+Game.worldName,setting:{data:void 0,power:void 0,sound:void 0},languagePrefix:"cs_CZ"===Game.locale?"cs":"en",language:{cs:{ajaxErrorMessage:"Problém komunikace se serverem.",windowHeadline:"Nalezen produkt na trhu",closeButton:"Zavřít",noLimit:"bez limitu",limitCaption:"max. cena:",alreadyInstalled:"je již nainstalován",setting:"Nastavení",itemLabel:"Předmět č.",limitLabel:"Max. cena",saveButton:"Uložit",itemCaption:"Předmět",pricePerPieceCaption:"Cena za kus",piecesCaption:"Kusů",totalCaption:"Celkem",worldError:"Problém s detekcí světa",checkboxPowerLabel:"Skenování trhu je aktivní",checkboxPowerTooltip:"Zapne/vypne automatické skenování trhu podle požadovaného nastavení",checkboxSoundLabel:"Zapnout zvuk",checkboxSoundTooltip:"Zapne/vypne zvukové upozornění při nalezení produktu na trhu"},en:{ajaxErrorMessage:"Connection problem with server.",windowHeadline:"Product found in the market",closeButton:"Close",noLimit:"no limit",limitCaption:"max price:",alreadyInstalled:"is already installed",setting:"Setting",itemLabel:"Item #",limitLabel:"Max price",saveButton:"Save",itemCaption:"Item",pricePerPieceCaption:"PPP",piecesCaption:"Pieces",totalCaption:"Total",worldError:"Problem with world name",checkboxPowerLabel:"Market scanner is active",checkboxPowerTooltip:"Start/stop automatic market scanner",checkboxSoundLabel:"Turn on the sound",checkboxSoundTooltip:"Turn on/off the sound alert when the item in the market is found"}},beep:function(){new Audio("data:audio/wav;base64,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F+pZihr0mq/////9IokT2wFAALEAAkgAAgAAAANisvlOc94JYJN/zVb4Z///epdvaiAA2DMABFT/+1JkBQAR6DpW7yKABBah6y3hCAGHSOll5J5ucFcO7LRQCo7UOaFUR9x4qD+5RSZ1rRLJPol4CCwHWxliJJJ//rRR9E8fof///9ZqMJL////Mkrd9/iEAfaMsAGAAAfmdiOsjQohH7fF//ULgmzPDzCEAGKguADt360ifHnwEEolTg9QGN5UZwlAKSq+3//qSkcig////8fAi7f//1N8jjhbw8Vvk0ioAAthQAtH/1UwsZyC/18N/yiRAsoM1e2+jgBEYLwGdpeG1wc0uyFh9hf/7UmQJgBHJSFdo1DrEGGH7rwViY4ck7VOi7U6QV4frcAG1DsgjE086S9IJNAcyZP//15zU////8DAb////yjZu05z+hftdUPjzsETEQrIIEwAAD7gliPnIITHajXoP/+p5NSy2BgFuAOANYjLYykMpEwizmtrL/jrH8qxBDDz9ic3nm2//YhLRcSa////g4J3//p07POLVUepfSAANS0AsUFxsyCQDxZ9aeThbXf+lwbUb7/NgAaAWge7q3WShsr0x0ixUesl6gkwBwr//rtQs//tSZA+AEY07V+h0OuQXwfsMAGcLhkztaeDIqxBeDuu0cBaOYeR0b////iB///+/4xXRwKrbSN//oUAsACJGOmZCUpKUC4t+r4oD//1yau8Q8qgANuDeA4s2FkTPjqLlNRdb5/CODa/stGmLTo26xIFu7f///Cm////6jqF6+7h8AAapgASD/ziiHNQVgvJH/wUBv+6leUNVe2G+gCGoNwDoUpZimKcEFRk1N5L1BJoLdRf/zF7nucZoNPr///wYGn//r6V4llkzf/9LeVAAA5D/+1JkHAARpEfX6DRTNBllio00AqIGTOlfqgC0UFMO6/RwCo4AGYIAH/+lojq/3rBoDP/5O/////BO8Nv3QALQJgHpr1Mq5jOExqEBCRSfkLUEWhOZ31M9OGXM3///woM////42ioaiQOGC2SAwH6bAEg9voeqCbKAs+pfEAz/6cc0QXZAASAGAPQQ79kikxFiDi4RzW8wEXSOBNJAoFF9E6HNKjmvb///GQJf/107tPyQA//rQgFAAA/VaPRpw4Lgy3q+Ji9Teug6vEwEKgAx+P/7UmQoAJGF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nrBADbk+1kjQBMH8irrJ6EWTPHRSzk2RQmz/+1Jk6AAR7hpISMIxYiCAGW0EIgEGAF9DoIBksGEJabQQDY+YnWHsMchVFzWPYqqlgu8vbfpXIypBy7f6EZpQQ5DBX/lv+ntV/e2Ka5kdLF8T9rhZcFtRABKbqpAHcZ0ZcjS7Ukjz8cOhkTkGRB0GLEkZLUzpE+qPUPadEGv65GdZhDiYQyi2FwKwOEhwNF33iv/yoDEXV8gA1LEgc7ZlCo/QdRRaIjyx4XFR7yw1Zk85m45360ADYAOSDyiCi7AnWBBOA2paGBURhAoOAIUFA//7UmTrCYH1IUjQYRlAI+AZSQgiAAXYhSShhGxQaABlIBAABNvn7M/+rr0KOvtWaeorF7ND2GgAAamQAARtiRzfJJFFjXiUQAd9ATirMThZpZC/+tVMQSSWxyNEgM1xrEPNppsNOovsS4tcufC4RQjYYy2pL9rzojsKNzjKNp37+BvG7bUo+syoZMLjxHW+s3YmvMAbwCQwgEqKVlT2kWCuuhRqSPYivNVdNEor+izWjo7aAQoBGhDAolxISnXqKuI4axE/waBk6sJfOuh1XiHU//tQZOuAkhI2yMkGGjAiQEkmBGIABjhtMaCYcgBqgKTkMIwFHZ0O+kq8tUOPLDX5as6RCiSEGFHhCWw60Gj07ln2Q7/Ku3RL4cLfiUgSqH9VnoSqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UmTpAAHjKclJIRjAIkAZSRhAAAWkByCjGEAAdgBk5CGAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSZOqAkfIpUGgjBG4gADkVBEIABZgFFyEIYACAgaIAIIgAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=").play()},openMarketWindow:function(e){var t;TWMarketScanner.resultsWindow.hide(),t=$(e).data("city"),e=$(e).data("search"),MarketWindow.open(t),MarketWindow.showTab("buy"),$("div.market-buy .iSearchbox input",MarketWindow.DOM).val(e),(e=$.Event("keypress")).which=13,e.keyCode=13,$("div.market-buy .iSearchbox input",MarketWindow.DOM).trigger(e)},getSetting:function(){var t=[],e=JSON.parse(localStorage.getItem(TWMarketScanner.SETTING_PREFIX));if(e)TWMarketScanner.setting.power="off"!==e.power,TWMarketScanner.setting.sound="off"!==e.sound,TWMarketScanner.setting.data=e.setting;else{for(let e=0;e<TWMarketScanner.MAX_OFFERS;e+=1)t.push({searchText:"",limit:""});TWMarketScanner.setting.data=t,TWMarketScanner.setting.power=!0,TWMarketScanner.setting.sound=!0,localStorage.setItem(TWMarketScanner.SETTING_PREFIX,JSON.stringify({power:"on",sound:"on",setting:t}))}},startTimer:function(){TWMarketScanner.timer=setTimeout(function(){TWMarketScanner.getAllScans(),TWMarketScanner.startTimer()},TWMarketScanner.TIMER)},stopTimer:function(){clearTimeout(TWMarketScanner.timer)},scanMarket:function(e){return"string"!=typeof e||""===e?null:Ajax.remoteCall("building_market","search",{pattern:e},function(e){if(e.error)return MessageError(TWMarketScanner.language[TWMarketScanner.languagePrefix].ajaxErrorMessage).show(),null})},getAllScans:function(){if(!TWMarketScanner.setting.power)return null;$.when(TWMarketScanner.scanMarket(TWMarketScanner.setting.data[0].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[1].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[2].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[3].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[4].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[5].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[6].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[7].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[8].searchText),TWMarketScanner.scanMarket(TWMarketScanner.setting.data[9].searchText)).done(function(...e){var t,a,n,i,r,A,o,q,s,g=[];for($("#TWMS-result-button").length&&TWMarketScanner.resultsWindow.hide(),TWMarketScanner.resultsWindow=new west.gui.Dialog(TWMarketScanner.language[TWMarketScanner.languagePrefix].windowHeadline),c=0;c<e.length;c+=1)if(e[c]&&0<e[c][0].msg.search_result.length){for(n=e[c][0].msg.search_result,t={},o=0===Number(TWMarketScanner.setting.data[c].limit)?TWMarketScanner.NO_LIMIT:TWMarketScanner.setting.data[c].limit,q=!1,s=0;s<n.length;s+=1)r=n[s].current_bid/n[s].item_count,A=n[s].max_price/n[s].item_count,a=r||A,n[s].item_count,n[s].item_id,Number(o)>=Number(a)&&(q=!0,i=n[s].item_count,r=n[s].item_id,A=n[s].current_bid||n[s].max_price,t[s]={itemId:r,pricePerPiece:a,itemCount:i,totalPrice:A});q&&g.push({setting:{searchText:TWMarketScanner.setting.data[c].searchText,limit:o},items:t})}if(0!==g.length){for(var S=$("<div class='twms-table-wrapper' />"),c=0;c<g.length;c+=1)S.append(TWMarketScanner.generateTable(g[c]));TWMarketScanner.setting.sound&&TWMarketScanner.beep(),TWMarketScanner.resultsWindow.setText(S).addButton(TWMarketScanner.language[TWMarketScanner.languagePrefix].closeButton).setId("TWMS-result-button").show()}})},getItemName:function(e){e=ItemManager.get(String(e));return{name:e.name,imageUrl:e.image}},generateTable:function(e){var a,n,i,r,A,o,t=e.setting,q=e.items,s=Character.homeTown.town_id,e=t.limit,t=t.searchText,g=$("<table class='twms-table' />"),e=e===TWMarketScanner.NO_LIMIT?TWMarketScanner.language[TWMarketScanner.languagePrefix].noLimit:format_money(e),t=$("<caption class='twms-caption'>"+t+" ("+TWMarketScanner.language[TWMarketScanner.languagePrefix].limitCaption+" "+e+")</caption>"),e=$("<thead><tr><th class='twms-th-image'></th><th class='twms-th-item'>"+TWMarketScanner.language[TWMarketScanner.languagePrefix].itemCaption+"<th class='twms-th-ppp'>"+TWMarketScanner.language[TWMarketScanner.languagePrefix].pricePerPieceCaption+"</th><th class='twms-th-pieces'>"+TWMarketScanner.language[TWMarketScanner.languagePrefix].piecesCaption+"</th><th class='twms-th-sum'>"+TWMarketScanner.language[TWMarketScanner.languagePrefix].totalCaption+"</th></tr></thead>");return g.append(t),g.append(e),$.each(q,function(e,t){a=TWMarketScanner.getItemName(t.itemId),r=t.pricePerPiece,n=t.itemCount,o=t.totalPrice,A=$("<tr/>"),i=s?'<a href="#" onClick="TWMarketScanner.openMarketWindow(this)" data-city="'+s+'" data-search="'+a.name+'">'+a.name+"</a>":a.name,o=$("<td><img class='twms-item-image' src='"+a.imageUrl+"' /></td><td class='twms-text-left'>"+i+"<td class='twms-text-right'>$"+format_money(Math.round(100*r)/100)+"</td><td class='twms-text-center'>"+format_number(n)+"</td><td class='twms-text-right'>$"+format_money(o)+"</td>"),A.append(o),g.append(A)}),g},init:function(){var e,t,a;$("#TWMS-menuLink").length?MessageError(TWMarketScanner.SCRIPT_NAME+" "+TWMarketScanner.language[TWMarketScanner.languagePrefix].alreadyInstalled).show():TWMarketScanner.SETTING_PREFIX.length<1?MessageError(TWMarketScanner.language[TWMarketScanner.languagePrefix].worldError).show():(TWMarketScanner.getSetting(),e=$('<div class="ui_menucontainer">/'),(t=$('<div id="TWMS-menuLink" class="menulink" title="'+TWMarketScanner.SCRIPT_NAME+'" ><svg viewBox="0 0 24 24"><path d="M19.74 18.33C21.15 16.6 22 14.4 22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10c2.4 0 4.6-.85 6.33-2.26.27-.22.53-.46.78-.71.03-.03.05-.06.07-.08.2-.2.39-.41.56-.62zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8c0 1.85-.63 3.54-1.69 4.9l-1.43-1.43c.69-.98 1.1-2.17 1.1-3.46 0-3.31-2.69-6-6-6s-6 2.69-6 6 2.69 6 6 6c1.3 0 2.51-.42 3.49-1.13l1.42 1.42C15.54 19.37 13.85 20 12 20zm1.92-7.49c.17-.66.02-1.38-.49-1.9l-.02-.02c-.77-.77-2-.78-2.78-.04-.01.01-.03.02-.05.04-.78.78-.78 2.05 0 2.83l.02.02c.52.51 1.25.67 1.91.49l1.51 1.51c-.6.36-1.29.58-2.04.58-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4c0 .73-.21 1.41-.56 2l-1.5-1.51z"></path></svg></div>')).click(function(){TWMarketScanner.showSetting()}),a=$('<div class="menucontainer_bottom">/'),e.append(t),e.append(a),$("#ui_menubar").append(e),TWMarketScanner.setting.power||$("#TWMS-menuLink").addClass("power-off"),TWMarketScanner.getAllScans(),TWMarketScanner.startTimer())},showSetting:function(){var e,t,a,n,i,r,A,o,q=TWMarketScanner.setting.data,s=wman.open("twms-setting",null).setMiniTitle(TWMarketScanner.language[TWMarketScanner.languagePrefix].setting).setTitle(TWMarketScanner.language[TWMarketScanner.languagePrefix].setting).setMinSize(525,484).setSize(525,484),g=$("<div />"),S=$('<div class="twms-2-columns-wrapper" />'),c=new west.gui.Checkbox(TWMarketScanner.language[TWMarketScanner.languagePrefix].checkboxPowerLabel).setTooltip(TWMarketScanner.language[TWMarketScanner.languagePrefix].checkboxPowerTooltip).setSelected(TWMarketScanner.setting.power),l=new west.gui.Checkbox(TWMarketScanner.language[TWMarketScanner.languagePrefix].checkboxSoundLabel).setTooltip(TWMarketScanner.language[TWMarketScanner.languagePrefix].checkboxSoundTooltip).setSelected(TWMarketScanner.setting.sound);S.append(c.getMainDiv()),S.append(l.getMainDiv()),g.append(S);for(let e=0;e<TWMarketScanner.MAX_OFFERS;e+=1)i=$("<div class='twms-form-row'/>"),(a=new west.gui.Textfield("item-"+(e+1))).setLabel(TWMarketScanner.language[TWMarketScanner.languagePrefix].itemLabel+(e+1)).setId("twms-item-"+(e+1)).setSize(20).maxlength(50),q&&a.setValue(q[e].searchText),i.append(a.getMainDiv()),(a=new west.gui.Textfield("limit-"+(e+1))).setLabel(TWMarketScanner.language[TWMarketScanner.languagePrefix].limitLabel).setSize(9).maxlength(9).onlyNumeric().setId("twms-limit-"+(e+1)),q&&a.setValue(q[e].limit),i.append(a.getMainDiv()),g.append(i);A=$("<div class='twsm-buttonsWrapper' />"),r=new west.gui.Button(TWMarketScanner.language[TWMarketScanner.languagePrefix].saveButton,function(){for(var e=[],t=0;t<TWMarketScanner.MAX_OFFERS;t+=1)o=$("#twms-item-"+(t+1)).val().trim(),n=$("#twms-limit-"+(t+1)).val().trim(),e.push({searchText:o,limit:n});localStorage.setItem(TWMarketScanner.SETTING_PREFIX,JSON.stringify({power:c.isSelected()?"on":"off",sound:l.isSelected()?"on":"off",setting:e})),TWMarketScanner.setting.data=e,TWMarketScanner.setting.power=c.isSelected(),TWMarketScanner.setting.sound=l.isSelected(),TWMarketScanner.stopTimer(),c.isSelected()?($("#TWMS-menuLink").removeClass("power-off"),TWMarketScanner.getAllScans(),TWMarketScanner.startTimer()):$("#TWMS-menuLink").addClass("power-off"),s.destroy()}),e=new west.gui.Button(TWMarketScanner.language[TWMarketScanner.languagePrefix].closeButton,function(){s.destroy()}),t=$('<div class="twms-2-columns-wrapper" />'),S=$("<a href='https://deprivant.github.io/tw-super-secret-scripts/' target='_blank' class='twsm-infoText'>"+TWMarketScanner.SCRIPT_NAME+" v. "+TWMarketScanner.VERSION+"</a>"),t.append(S),A.append(r.getMainDiv(),e.getMainDiv()),t.append(A),(A=new west.gui.Scrollpane).appendContent(g).appendContent(t),s.appendToContentPane(A.getMainDiv())}},TWFEBB={SCRIPT_NAME:"TW Fix Export Button Bug",STYLE_ID:"TWFEBB-styles",run:function(){$("#"+TWFEBB.STYLE_ID).length||$('<style id="'+TWFEBB.STYLE_ID+'">').text("#gj_share{top:auto !important;right:-210px !important}").appendTo(document.head)},stop:function(){$("#"+TWFEBB.STYLE_ID).remove()}},TWSSS={SCRIPT_NAME:"TW Super Secret Script",VERSION:"0.0.3",SETTING_PREFIX:"TWSSS",languagePrefix:"cs_CZ"===Game.locale?"cs":"en",twsvSetting:void 0,twsebSetting:void 0,twfebbSetting:void 0,language:{cs:{closeButton:"Zavřít",setting:"Nastavení",saveButton:"Uložit",twsvCheckboxLabel:"Přeskoč videa a vezmi rovnou odměnu",twsebCheckboxLabel:"Zobraz více informací o energii a zkušenostech",twfebbCheckboxLabel:"Oprav grafiku export buttonu v Gold Jobs Finder"},en:{closeButton:"Close",setting:"Setting",saveButton:"Save",twsvCheckboxLabel:"Skip video and take reward immediately",twsebCheckboxLabel:"Show enhanced energy and exp bar",twfebbCheckboxLabel:"Fix export button bug Gold Jobs Finder"}},getSetting:function(){var e=(e=JSON.parse(localStorage.getItem(TWSSS.SETTING_PREFIX)))||{tmsv:{power:!0},twseb:{power:!0},twfebb:{power:!0}};TWSSS.twsvSetting=e.tmsv||{power:!0},TWSSS.twsebSetting=e.twseb||{power:!0},TWSSS.twfebbSetting=e.twfebb||{power:!0}},startScripts:function(){TWSSS.getSetting(),TWSSS.twsvSetting.power?TWSV.run():TWSV.stop(),TWSSS.twsebSetting.power?TWSEB.run():TWSEB.stop(),TWSSS.twfebbSetting.power?TWFEBB.run():TWFEBB.stop()},setStyle:function(){$("<style>").text(".TWSEB-seb{align-items:center;background:#1d1c1c;border-radius:2px;border:1px solid #646464;color:white;display:flex;flex-direction:column;font-size:9px;justify-content:center;opacity:.7;padding:2px 12px;position:absolute;top:175px;width:114px}.TWSEB-seb-info-wrapper,.TWSEB-seb-labels{display:flex;justify-content:space-between;width:100%}#ui_experience_bar #restExpInfo{position:absolute;top:0;text-align:center;color:white;font-size:11px;display:inline-block;width:100%;text-shadow:2px 0 1px #000}#ui_experience_bar .label span{padding:0 8px;border-radius:4px;background-color:black}.twms-text-left{text-align:left}.twms-text-right{text-align:right}.twms-text-center{text-align:center}.twms-table-wrapper{height:50%;max-height:350px;max-width:400px;overflow-y:auto}.twms-table{margin-bottom:10px;padding-right:5px;width:100%}.twms-caption{font-weight:bold;margin-bottom:5px;text-align:left}.twms-th-image{min-width:30px;width:5%}.twms-th-item{text-align:left;width:50%}.twms-th-ppp{text-align:right;width:18%}.twms-th-pieces{text-align:center;width:11%}.twms-th-sum{text-align:right;width:18%}.twms-table th{font-size:11px}.twms-table td{vertical-align:middle}.twms-item-image{width:30px}.twms-form-row{display:flex;justify-content:space-between;padding:0 10px}.twms-form-row .tw2gui_textfield_label{display:inline-block;width:65px;font-size:12px}.twms-form-row .tw2gui_textfield_wrapper:first-child .tw2gui_textfield_label{width:80px}#TWMS-menuLink{text-align:center;background-image:url(data:image/png;base64,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)}#TWMS-menuLink:hover{background-position:-25px 0}#TWMS-menuLink svg{margin-top:3px;width:20px}#TWMS-menuLink svg path{fill:#d3d3d3}#TWMS-menuLink.power-off svg path{fill:#696969}.twms-2-columns-wrapper{align-items:flex-end;display:flex;justify-content:space-between;margin:10px 15px 10px 10px}.twsm-infoText{font-size:11px}#TWSSS-menuLink{text-align:center;background-image:url(data:image/png;base64,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)}#TWSSS-menuLink:hover{background-position:-25px 0}#TWSSS-menuLink svg{margin-top:3px;width:16px}#TWSSS-menuLink svg path{fill:#d3d3d3}.twss-form{padding:10px}.twss-form div{display:block;margin-bottom:10px}.twsss-buttons{margin:0 10px;text-align:right}.twsss-infoText{width:100%;display:block;font-size:11px;margin-top:10px;text-align:center}").appendTo(document.head)},showSetting:function(){var e,t,a,n,i,r,A,o,q,s;TWSSS.getSetting(),s=wman.open("twsss-setting",null).setMiniTitle(TWSSS.language[TWSSS.languagePrefix].setting).setTitle(TWSSS.language[TWSSS.languagePrefix].setting).setMinSize(360,265).setSize(360,265),a=$('<div class="twss-form" />'),n=new west.gui.Checkbox(TWSSS.language[TWSSS.languagePrefix].twsvCheckboxLabel).setSelected(TWSSS.twsvSetting.power),r=new west.gui.Checkbox(TWSSS.language[TWSSS.languagePrefix].twsebCheckboxLabel).setSelected(TWSSS.twsebSetting.power),A=new west.gui.Checkbox(TWSSS.language[TWSSS.languagePrefix].twfebbCheckboxLabel).setSelected(TWSSS.twfebbSetting.power),a.append(n.getMainDiv()),a.append(r.getMainDiv()),a.append(A.getMainDiv()),e=$("<div class='twsss-buttonsWrapper' />"),o=new west.gui.Button(TWSSS.language[TWSSS.languagePrefix].saveButton,function(){localStorage.setItem(TWSSS.SETTING_PREFIX,JSON.stringify({twsv:{power:n.isSelected()},twseb:{power:r.isSelected()},twfebb:{power:A.isSelected()}})),n.isSelected()?TWSV.run():TWSV.stop(),r.isSelected()?TWSEB.run():TWSEB.stop(),A.isSelected()?TWFEBB.run():TWFEBB.stop(),s.destroy()}),t=new west.gui.Button(TWSSS.language[TWSSS.languagePrefix].closeButton,function(){s.destroy()}),i=$('<div class="twsss-footer" />'),e=$('<div class="twsss-buttons" />'),q=$("<a href='https://deprivant.github.io/tw-super-secret-scripts/' target='_blank' class='twsss-infoText'>"+TWSSS.SCRIPT_NAME+" v. "+TWSSS.VERSION+"</a>"),e.append(o.getMainDiv(),t.getMainDiv()),i.append(e),i.append(q),(q=new west.gui.Scrollpane).appendContent(a).appendContent(i),s.appendToContentPane(q.getMainDiv())},addMenuButton:function(){var e=$('<div class="ui_menucontainer">/'),t=$('<div id="TWSSS-menuLink" class="menulink" title="'+TWSSS.SCRIPT_NAME+'"><svg viewBox="0 0 448 512"><path d="M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"></path></svg></div>');t.click(function(){TWSSS.showSetting()});var a=$('<div class="menucontainer_bottom">/');e.append(t),e.append(a),$("#ui_menubar").append(e)},init:function(){TWSSS.addMenuButton(),TWSSS.startScripts(),TWMarketScanner.init()}};$(document).ready(function(){try{TWSSS.setStyle(),TWSV.init(),TWSSS.init()}catch(e){console.log(e.stack)}});